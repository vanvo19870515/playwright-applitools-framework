"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeCreateRenderTarget = void 0;
const create_render_target_from_snapshot_1 = require("../ufg/create-render-target-from-snapshot");
function makeCreateRenderTarget({ core, logger: defaultLogger }) {
    return async function createRenderTarget({ snapshot, logger = defaultLogger, }) {
        const ufgClient = await core.getUFGClient({
            settings: {
                ...snapshot.account.ufgServer,
                eyesServerUrl: snapshot.account.eyesServer.eyesServerUrl,
                apiKey: snapshot.account.eyesServer.apiKey,
            },
            logger,
        });
        const target = await (0, create_render_target_from_snapshot_1.createRenderTargetFromSnapshot)({ ufgClient, snapshot, logger });
        return { ...snapshot, target };
    };
}
exports.makeCreateRenderTarget = makeCreateRenderTarget;
