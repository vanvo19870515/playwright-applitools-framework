import type { ImageTarget, Core, Eyes, FunctionalSession, OpenSettings, CheckSettings, CloseSettings, ReportSettings, VisualTest, FunctionalTest, TestResult, HeartbeatSettings, UpdateIfScmSettings, UpdateIfScmResult } from '../types';
import { type Fetch } from '@applitools/req';
import { type Logger } from '@applitools/logger';
import { type ReqEyes } from './req-eyes';
import type { Heartbeat } from '../heartbeat';
export interface CoreRequests extends Core {
    openEyes(options: {
        settings: OpenSettings;
        heartbeat: Heartbeat;
        logger?: Logger;
    }): Promise<EyesRequests>;
    openFunctionalSession(options: {
        settings: OpenSettings;
        logger?: Logger;
    }): Promise<FunctionalSessionRequests>;
    openCheckAndClose(options: {
        target: ImageTarget;
        settings: OpenSettings & CheckSettings & CloseSettings;
        logger?: Logger;
    }): Promise<void>;
    updateIfScm(options: {
        settings: UpdateIfScmSettings;
        logger?: Logger;
    }): Promise<UpdateIfScmResult>;
    sendHeartbeat(options: {
        settings: HeartbeatSettings;
        logger?: Logger;
    }): Promise<void>;
    openCheckAndCloseEyes(options: {
        target: ImageTarget;
        settings: OpenSettings & CheckSettings & CloseSettings;
        logger?: Logger;
        heartbeat: Heartbeat;
    }): Promise<{
        getResults: () => Promise<TestResult[]>;
    }>;
}
export interface EyesRequests extends Eyes {
    readonly core: CoreRequests;
    report(options: {
        settings?: ReportSettings;
        logger?: Logger;
    }): Promise<void>;
}
export interface FunctionalSessionRequests extends FunctionalSession {
    readonly core: CoreRequests;
    report(options: {
        settings?: ReportSettings;
        logger?: Logger;
    }): Promise<void>;
}
export declare const makeCoreRequestsWithCache: typeof makeCoreRequests & {
    getCachedValues(): CoreRequests[];
    setCachedValue(key: any, value: CoreRequests): void;
    clearCache(): void;
};
declare function makeCoreRequests({ fetch, logger: defaultLogger }?: {
    fetch?: Fetch;
    logger?: Logger;
}): CoreRequests;
export declare function makeEyesRequests({ core, test, req: defaultReq, fetch, logger: mainLogger, }: {
    core: CoreRequests;
    test: VisualTest;
    req?: ReqEyes;
    fetch?: Fetch;
    logger: Logger;
}): EyesRequests;
export declare function makeFunctionalSessionRequests({ core, test, req: defaultReq, fetch, logger: mainLogger, }: {
    core: CoreRequests;
    test: FunctionalTest;
    req?: ReqEyes;
    fetch?: Fetch;
    logger: Logger;
}): FunctionalSessionRequests;
export {};
